<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Executive Agents Ecosystem | Javier Rondon</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo"><a href="index.html">JR</a></div>
                <ul class="nav-links">
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#projects">Projects</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
                <div class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </div>
                <div class="menu-btn">
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <main class="project-container">
        <!-- Return Link -->
        <a href="index.html" class="return-link">
            <i class="fas fa-arrow-left"></i> Back to Portfolio
        </a>

        <!-- Hero Section -->
        <section class="hero-section">
            <h1>AI Executive Agents Ecosystem in n8n</h1>
            <h2>An intelligent automation system that integrates multiple agents (email, calendar, search, and contacts) using natural language interactions via Telegram.</h2>
            <p>This project demonstrates how AI agents can collaborate seamlessly through a central executive interface, automating email and calendar tasks, managing contacts, and retrieving information using APIs â€” all through text and voice commands sent from Telegram.</p>
        </section>

        <!-- Agent Overview -->
        <section>
            <h2 class="section-title">ðŸ¤– Agent Overview</h2>
            <div class="agent-cards">
                <div class="agent-card">
                    <div class="agent-card-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>Executive Agent JR</h3>
                    <p>Central coordinator. Interprets user commands, selects the right agent, and orchestrates tool execution.</p>
                    <div class="agent-card-image">
                        <img src="img/JRagent.jpg" alt="Executive Agent JR Interface" onerror="this.src='https://via.placeholder.com/300x200?text=Executive+Agent'" onclick="enlargeImage(this.src)">
                    </div>
                </div>
                <div class="agent-card">
                    <div class="agent-card-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3>Email Agent</h3>
                    <p>Manages email operations (send, reply, label, delete, draft) using Gmail API.</p>
                    <div class="agent-card-image">
                        <img src="img/Email-Agent.JPG" alt="Email Agent Interface" onerror="this.src='https://via.placeholder.com/300x200?text=Email+Agent'" onclick="enlargeImage(this.src)">
                    </div>
                </div>
                <div class="agent-card">
                    <div class="agent-card-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3>Calendar Agent</h3>
                    <p>Manages Google Calendar (create, update, delete events, generate Meet links).</p>
                    <div class="agent-card-image">
                        <img src="img/CalendarAgent.JPG" alt="Calendar Agent Interface" onerror="this.src='https://via.placeholder.com/300x200?text=Calendar+Agent'" onclick="enlargeImage(this.src)">
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Architecture -->
        <section class="architecture-section">
            <h2>System Architecture</h2>
            <p>This multi-agent system is built using the n8n automation framework and integrates with multiple tools via APIs. Each agent operates autonomously but can also be orchestrated by the central Executive Agent JR for complex tasks.</p>
            <div class="architecture-image">
                <img src="img/architecture.jpg" alt="AI Agents System Architecture" id="architectureImg" onerror="this.src='https://via.placeholder.com/800x500?text=System+Architecture'" onclick="enlargeImage(this.src)">
            </div>
        </section>

        <!-- Interactive Simulation -->
        <section class="simulation-section">
            <h2>Simulation: Real-world Use Cases</h2>
            <p>Below are simulated interactions between the user and the Executive Agent JR via Telegram. These show how voice or text commands trigger automated workflows:</p>
            
            <div class="simulation-cards">
                <div class="scenario-accordion active">
                    <div class="scenario-header" onclick="toggleScenario(this)">
                        <h3><i class="fas fa-calendar-check"></i> Scheduling Workflow</h3>
                        <span class="icon"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="scenario-content">
                        <div class="scenario-inner">
                            <div class="carousel-container">
                                <div class="carousel-caption">
                                    <h3>Meeting Scheduling via Telegram</h3>
                                    <p>Click on images to view full conversation details</p>
                                </div>
                                <div class="carousel-slides" id="scenarioCarousel">
                                    <div class="carousel-slide">
                                        <img src="img/escenario01-01.JPG" alt="Scheduling Workflow - Step 1" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario01-02.JPG" alt="Scheduling Workflow - Step 2" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario01-03.JPG" alt="Scheduling Workflow - Step 3" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario01-04.JPG" alt="Scheduling Workflow - Step 4" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario01-05.JPG" alt="Scheduling Workflow - Step 5" onclick="enlargeImage(this.src)">
                                    </div>
                                </div>
                                
                                <div class="carousel-controls">
                                    <button class="carousel-control" onclick="moveCarousel(-1)" title="Previous step" aria-label="Previous step">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="carousel-control" onclick="moveCarousel(1)" title="Next step" aria-label="Next step">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                                
                                <div class="carousel-indicators">
                                    <span class="carousel-indicator active" onclick="jumpToSlide(0)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSlide(1)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSlide(2)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSlide(3)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSlide(4)"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="scenario-accordion">
                    <div class="scenario-header" onclick="toggleScenario(this)">
                        <h3><i class="fas fa-envelope"></i> Send a quick email</h3>
                        <span class="icon"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="scenario-content">
                        <div class="scenario-inner">
                            <div class="carousel-container">
                                <div class="carousel-caption">
                                    <h3>Quick Email Workflow</h3>
                                    <p>Click on images to view full conversation details</p>
                                </div>
                                <div class="carousel-slides" id="emailCarousel">
                                    <div class="carousel-slide">
                                        <img src="img/escenario02-01.JPG" alt="Email Workflow - Step 1" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario02-02.JPG" alt="Email Workflow - Step 2" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario02-03.JPG" alt="Email Workflow - Step 3" onclick="enlargeImage(this.src)">
                                    </div>
                                </div>
                                
                                <div class="carousel-controls">
                                    <button class="carousel-control" onclick="moveEmailCarousel(-1)" title="Previous step" aria-label="Previous step">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="carousel-control" onclick="moveEmailCarousel(1)" title="Next step" aria-label="Next step">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                                
                                <div class="carousel-indicators">
                                    <span class="carousel-indicator active" onclick="jumpToEmailSlide(0)"></span>
                                    <span class="carousel-indicator" onclick="jumpToEmailSlide(1)"></span>
                                    <span class="carousel-indicator" onclick="jumpToEmailSlide(2)"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="scenario-accordion">
                    <div class="scenario-header" onclick="toggleScenario(this)">
                        <h3><i class="fas fa-search"></i> Search news</h3>
                        <span class="icon"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="scenario-content">
                        <div class="scenario-inner">
                            <div class="carousel-container">
                                <div class="carousel-caption">
                                    <h3>Search News Workflow</h3>
                                    <p>Click on images to view full conversation details</p>
                                </div>
                                <div class="carousel-slides" id="searchCarousel">
                                    <div class="carousel-slide">
                                        <img src="img/escenario03-01.JPG" alt="Search News Workflow - Step 1" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide video-slide">
                                        <video id="carouselVideo" autoplay muted controls playsinline style="cursor:pointer">
                                            <source src="img/n8nescenario03.mp4" type="video/mp4">
                                            Tu navegador no soporta el elemento de video.
                                        </video>
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario03-02.JPG" alt="Search News Workflow - Step 2" onclick="enlargeImage(this.src)">
                                    </div>
                                    <div class="carousel-slide">
                                        <img src="img/escenario03-03.JPG" alt="Search News Workflow - Step 3" onclick="enlargeImage(this.src)">
                                    </div>
                                </div>
                                <div id="searchCarouselCaption" class="carousel-caption-fixed"></div>
                                <div class="carousel-controls">
                                    <button class="carousel-control" onclick="moveSearchCarousel(-1)" title="Previous step" aria-label="Previous step">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="carousel-control" onclick="moveSearchCarousel(1)" title="Next step" aria-label="Next step">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                                
                                <div class="carousel-indicators">
                                    <span class="carousel-indicator active" onclick="jumpToSearchSlide(0)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSearchSlide(1)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSearchSlide(2)"></span>
                                    <span class="carousel-indicator" onclick="jumpToSearchSlide(3)"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="simulation-card">
                    <div class="simulation-info">
                        <h3>Check unread emails</h3>
                        <p>Command:</p>
                        <code class="simulation-command">"Do I have any unread emails today?"</code>
                    </div>
                    <div class="simulation-result">
                        <img src="img/sim-email.jpg" alt="Email Check Simulation" onerror="this.src='https://via.placeholder.com/400x250?text=Email+Simulation'">
                    </div>
                </div>
            </div>
        </section>

        <!-- Technologies Used -->
        <section>
            <h2 class="section-title">ðŸ§  Technologies Used</h2>
            
            <div class="tech-columns">
                <div class="tech-column">
                    <h3>Frameworks & Tools</h3>
                    <ul>
                        <li>n8n (automation and orchestration)</li>
                        <li>LangChain Tools Agent framework</li>
                        <li>OpenAI GPT + Anthropic Claude</li>
                        <li>Google APIs: Gmail, Calendar, Sheets</li>
                        <li>Telegram Bot API</li>
                        <li>SerpAPI (news and info search)</li>
                        <li>Google Sheets (contact memory)</li>
                    </ul>
                </div>
                
                <div class="tech-column">
                    <h3>Additional Features</h3>
                    <ul>
                        <li>Voice-to-text transcription (Speech-to-Text)</li>
                        <li>JSON parsing & conditional logic</li>
                        <li>Memory system (Simple Memory per session)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Capabilities by Agent -->
        <section>
            <h2 class="section-title">ðŸ§© Capabilities by Agent</h2>
            
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3><i class="fas fa-robot"></i> Executive Agent JR</h3>
                        <span class="icon"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-content-inner">
                            <ul>
                                <li>Acts as main user interface</li>
                                <li>Selects tools and agents based on the input</li>
                                <li>Supports both voice and text</li>
                                <li>Routes data between tools</li>
                                <li>contact_tool: Query contacts in Google Sheets</li>
                                <li>contact_tool_update: Create/update contacts</li>
                                <li>calendarTool: Connect to Calendar Agent</li>
                                <li>emailTool: Connect to Email Agent</li>
                                <li>serpapi: Search for news and updated data</li>
                                <li>calculator: Solve formulas</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3><i class="fas fa-envelope"></i> Email Agent</h3>
                        <span class="icon"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-content-inner">
                            <ul>
                                <li>Compose, send, reply</li>
                                <li>Add labels, draft, or delete messages</li>
                                <li>Mark as unread/read</li>
                                <li>Send Email: Send new emails</li>
                                <li>Email Reply: Reply to emails</li>
                                <li>Label Emails: Tag messages</li>
                                <li>Delete Message: Remove emails</li>
                                <li>Create Draft: Save drafts</li>
                                <li>Get Emails: Retrieve messages</li>
                                <li>Get Labels: List tags</li>
                                <li>contact_tool: Check contacts before sending</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3><i class="fas fa-calendar-alt"></i> Calendar Agent</h3>
                        <span class="icon"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-content-inner">
                            <ul>
                                <li>Create/Update/Delete events</li>
                                <li>Add attendees</li>
                                <li>Generate Google Meet links</li>
                                <li>Create Event: Schedule new events</li>
                                <li>Create Event with Attendee: Include participants</li>
                                <li>Create Meet: Generate Google Meet link</li>
                                <li>Update Event: Modify existing events</li>
                                <li>Delete Event: Remove events</li>
                                <li>Get Events: List upcoming events</li>
                                <li>contact_tool: Verify participant information</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Agent Integration Matrix -->
        <section>
            <h2 class="section-title">ðŸ”„ Agent Integration Matrix</h2>
            
            <table class="integration-table">
                <thead>
                    <tr>
                        <th>From</th>
                        <th>To</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Executive Agent JR</td>
                        <td>Email Agent</td>
                        <td>Compose and send emails</td>
                    </tr>
                    <tr>
                        <td>Executive Agent JR</td>
                        <td>Calendar Agent</td>
                        <td>Schedule events</td>
                    </tr>
                    <tr>
                        <td>Executive Agent JR</td>
                        <td>Google Sheets</td>
                        <td>Manage contact data</td>
                    </tr>
                    <tr>
                        <td>Executive Agent JR</td>
                        <td>SerpAPI</td>
                        <td>Search external info</td>
                    </tr>
                </tbody>
            </table>
            
            <h3 class="section-subtitle">ðŸ§  AI Models Applied</h3>
            
            <table class="ai-models-table">
                <thead>
                    <tr>
                        <th>AI Engine</th>
                        <th>Usage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>OpenAI GPT</td>
                        <td>Understand & generate structured responses</td>
                    </tr>
                    <tr>
                        <td>Anthropic Claude</td>
                        <td>Natural email generation</td>
                    </tr>
                    <tr>
                        <td>LangChain Agent</td>
                        <td>Agent coordination & tool selection</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Call to Action -->
        <section class="call-to-action">
            <h3>Interested in a personalized automation ecosystem?</h3>
            <p>Let's connect to discuss how this automation ecosystem can be customized for your team or organization.</p>
            <div>
                <a href="https://linkedin.com/in/jarondonp" class="social-btn" target="_blank" rel="noopener">
                    <i class="fab fa-linkedin"></i> Connect on LinkedIn
                </a>
                <a href="mailto:info@javierrondon.com" class="social-btn">
                    <i class="fas fa-envelope"></i> Send Email
                </a>
            </div>
        </section>

        <!-- Project Actions -->
        <div class="project-actions">
            <a href="https://github.com/jarondonp/ai-executive-agents" class="btn btn-primary" target="_blank" rel="noopener">
                <i class="fab fa-github"></i> View on GitHub
            </a>
            <a href="index.html" class="btn btn-outline">
                <i class="fas fa-arrow-left"></i> Return to Portfolio
            </a>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Javier Rondon. All rights reserved.</p>
                <div class="social-links">
                    <a href="https://github.com/jarondonp" target="_blank" rel="noopener" title="GitHub Profile"><i class="fab fa-github"></i></a>
                    <a href="https://linkedin.com/in/jarondonp" target="_blank" rel="noopener" title="LinkedIn Profile"><i class="fab fa-linkedin"></i></a>
                    <a href="https://twitter.com/jarondonp" target="_blank" rel="noopener" title="Twitter Profile"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Overlay for enlarged architecture image -->
    <div class="enlarge-overlay" id="imageOverlay">
        <span class="close-btn" onclick="closeOverlay()">&times;</span>
        <img id="enlargedImg" src="" alt="Enlarged architecture diagram">
    </div>

    <script>
        // Theme toggle functionality 
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.querySelector('.theme-toggle');
            const body = document.body;
            
            // Check for saved theme
            if (localStorage.getItem('theme') === 'dark') {
                body.classList.add('dark-theme');
                themeToggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
            }
            
            // Toggle theme
            themeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-theme');
                
                const icon = themeToggle.querySelector('i');
                if (body.classList.contains('dark-theme')) {
                    icon.classList.replace('fa-moon', 'fa-sun');
                    localStorage.setItem('theme', 'dark');
                } else {
                    icon.classList.replace('fa-sun', 'fa-moon');
                    localStorage.setItem('theme', 'light');
                }
            });
            
            // Mobile menu
            const menuBtn = document.querySelector('.menu-btn');
            const navLinks = document.querySelector('.nav-links');
            
            menuBtn.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                menuBtn.classList.toggle('active');
            });
        });
        
        // Accordion functionality
        function toggleAccordion(header) {
            const item = header.parentElement;
            const isActive = item.classList.contains('active');
            
            // Close all accordions
            document.querySelectorAll('.accordion-item').forEach(accordion => {
                accordion.classList.remove('active');
            });
            
            // Open clicked accordion if it wasn't already open
            if (!isActive) {
                item.classList.add('active');
            }
        }
        
        // Image enlargement functionality
        function enlargeImage(src) {
            const overlay = document.getElementById('imageOverlay');
            const enlargedImg = document.getElementById('enlargedImg');
            
            enlargedImg.src = src;
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeOverlay() {
            const overlay = document.getElementById('imageOverlay');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        // Carousel functionality
        let currentSlide = 0;
        const totalSlides = document.querySelectorAll('.carousel-slide').length;
        const carouselSlides = document.querySelector('.carousel-slides');
        const carouselIndicators = document.querySelectorAll('.carousel-indicator');
        
        function updateCarousel() {
            // Actualizar la posiciÃ³n del carrusel
            if (carouselSlides) {
                carouselSlides.style.transform = `translateX(-${currentSlide * 100}%)`;
            }
            
            // Actualizar los indicadores
            carouselIndicators.forEach((indicator, index) => {
                indicator.classList.remove('active');
                if (index === currentSlide) {
                    indicator.classList.add('active');
                }
            });
        }
        
        function moveCarousel(direction) {
            if (direction === 1) {
                currentSlide++;
                if (currentSlide >= totalSlides) {
                    currentSlide = 0;
                }
            } else if (direction === -1) {
                currentSlide--;
                if (currentSlide < 0) {
                    currentSlide = totalSlides - 1;
                }
            }
            
            updateCarousel();
        }
        
        function jumpToSlide(slideIndex) {
            currentSlide = slideIndex;
            updateCarousel();
        }
        
        // Iniciar el carrusel automÃ¡tico
        let carouselInterval;
        
        function startCarouselInterval() {
            carouselInterval = setInterval(() => {
                moveCarousel(1);
            }, 5000); // Cambiar slide cada 5 segundos
        }
        
        function stopCarouselInterval() {
            clearInterval(carouselInterval);
        }
        
        // Iniciar el carrusel cuando la pÃ¡gina estÃ© cargada
        document.addEventListener('DOMContentLoaded', () => {
            // Resto del cÃ³digo de inicializaciÃ³n que ya existe
            
            // Iniciar el carrusel
            updateCarousel();
            startCarouselInterval();
            
            // Pausar el carrusel al pasar el ratÃ³n
            const carouselContainer = document.querySelector('.carousel-container');
            if (carouselContainer) {
                carouselContainer.addEventListener('mouseenter', stopCarouselInterval);
                carouselContainer.addEventListener('mouseleave', startCarouselInterval);
            }

            // Iniciar el carrusel de email
            updateEmailCarousel();
            
            // Crear un intervalo para el carrusel de email
            let emailCarouselInterval = setInterval(() => {
                moveEmailCarousel(1);
            }, 5000); // Cambiar slide cada 5 segundos
            
            // Pausar el carrusel de email al pasar el ratÃ³n
            const emailCarouselContainer = document.querySelector('#emailCarousel').closest('.carousel-container');
            if (emailCarouselContainer) {
                emailCarouselContainer.addEventListener('mouseenter', () => {
                    clearInterval(emailCarouselInterval);
                });
                emailCarouselContainer.addEventListener('mouseleave', () => {
                    emailCarouselInterval = setInterval(() => {
                        moveEmailCarousel(1);
                    }, 5000);
                });
            }
            
            // Iniciar el carrusel de bÃºsqueda
            updateSearchCarousel();
            
            // Crear un intervalo para el carrusel de bÃºsqueda
            let searchCarouselInterval = setInterval(() => {
                moveSearchCarousel(1);
            }, 5000); // Cambiar slide cada 5 segundos
            
            // Pausar el carrusel de bÃºsqueda al pasar el ratÃ³n
            const searchCarouselContainer = document.querySelector('#searchCarousel').closest('.carousel-container');
            if (searchCarouselContainer) {
                searchCarouselContainer.addEventListener('mouseenter', () => {
                    clearInterval(searchCarouselInterval);
                });
                searchCarouselContainer.addEventListener('mouseleave', () => {
                    searchCarouselInterval = setInterval(() => {
                        moveSearchCarousel(1);
                    }, 5000);
                });
            }
        });
        
        // Email carousel functionality
        let emailCurrentSlide = 0;
        const emailTotalSlides = document.querySelectorAll('#emailCarousel .carousel-slide').length;
        const emailCarouselSlides = document.querySelector('#emailCarousel');
        const emailCarouselIndicators = document.querySelectorAll('#emailCarousel ~ .carousel-indicators .carousel-indicator');
        
        function updateEmailCarousel() {
            // Actualizar la posiciÃ³n del carrusel
            if (emailCarouselSlides) {
                emailCarouselSlides.style.transform = `translateX(-${emailCurrentSlide * 100}%)`;
            }
            
            // Actualizar los indicadores
            const indicators = document.querySelectorAll('#emailCarousel ~ .carousel-indicators .carousel-indicator');
            indicators.forEach((indicator, index) => {
                indicator.classList.remove('active');
                if (index === emailCurrentSlide) {
                    indicator.classList.add('active');
                }
            });
        }
        
        function moveEmailCarousel(direction) {
            if (direction === 1) {
                emailCurrentSlide++;
                if (emailCurrentSlide >= emailTotalSlides) {
                    emailCurrentSlide = 0;
                }
            } else if (direction === -1) {
                emailCurrentSlide--;
                if (emailCurrentSlide < 0) {
                    emailCurrentSlide = emailTotalSlides - 1;
                }
            }
            
            updateEmailCarousel();
        }
        
        function jumpToEmailSlide(slideIndex) {
            emailCurrentSlide = slideIndex;
            updateEmailCarousel();
        }
        
        // Search carousel functionality
        let searchCurrentSlide = 0;
        const searchTotalSlides = document.querySelectorAll('#searchCarousel .carousel-slide').length;
        const searchCarouselSlides = document.querySelector('#searchCarousel');
        const searchCarouselIndicators = document.querySelectorAll('#searchCarousel ~ .carousel-indicators .carousel-indicator');
        let searchCarouselInterval = null;
        let searchVideoTimeout = null;
        let lastSearchInterval = 5000; // Default for non-video slides

        function getSearchSlideDuration(slideIndex) {
            // Slide 0 (escenario03-01.JPG) should last 1 min (60000 ms)
            // Slide 1 (video) should last exactamente la duraciÃ³n del video (sin mÃ­nimo)
            if (slideIndex === 0) return 60000;
            if (slideIndex === 1) {
                const video = document.getElementById('carouselVideo');
                if (video && video.duration && !isNaN(video.duration)) {
                    return video.duration * 1000; // Exactamente la duraciÃ³n del video
                }
                return 120000; // Si no se puede detectar duraciÃ³n, da 2 min por defecto
            }
            return 5000;
        }

        function scheduleNextSearchSlide() {
            clearInterval(searchCarouselInterval);
            clearTimeout(searchVideoTimeout);
            let duration = getSearchSlideDuration(searchCurrentSlide);
            if (searchCurrentSlide === 1) {
                // Para el video: avanza solo cuando termine
                const video = document.getElementById('carouselVideo');
                if (video) {
                    video.onended = () => {
                        moveSearchCarousel(1);
                    };
                    return;
                }
            }
            // Default para otras slides
            searchCarouselInterval = setTimeout(() => {
                moveSearchCarousel(1);
            }, duration);
        }

        function updateSearchCarousel() {
            // Actualizar la posiciÃ³n del carrusel
            if (searchCarouselSlides) {
                searchCarouselSlides.style.transform = `translateX(-${searchCurrentSlide * 100}%)`;
            }
            
            // Actualizar los indicadores
            const indicators = document.querySelectorAll('#searchCarousel ~ .carousel-indicators .carousel-indicator');
            indicators.forEach((indicator, index) => {
                indicator.classList.remove('active');
                if (index === searchCurrentSlide) {
                    indicator.classList.add('active');
                }
            });
            // Actualizar el caption fijo
            const captionDiv = document.getElementById('searchCarouselCaption');
            if (captionDiv) {
                captionDiv.innerHTML = searchCaptions[searchCurrentSlide] || '';
            }
            scheduleNextSearchSlide();
        }

        function moveSearchCarousel(direction) {
            clearInterval(searchCarouselInterval);
            clearTimeout(searchVideoTimeout);
            if (searchCurrentSlide === 1) {
                // Para el video: avanza solo cuando termine
                const video = document.getElementById('carouselVideo');
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
            }
            if (direction === 1) {
                searchCurrentSlide++;
                if (searchCurrentSlide >= searchTotalSlides) {
                    searchCurrentSlide = 0;
                }
            } else if (direction === -1) {
                searchCurrentSlide--;
                if (searchCurrentSlide < 0) {
                    searchCurrentSlide = searchTotalSlides - 1;
                }
            }
            
            updateSearchCarousel();
        }

        function jumpToSearchSlide(slideIndex) {
            clearInterval(searchCarouselInterval);
            clearTimeout(searchVideoTimeout);
            if (searchCurrentSlide === 1) {
                // Para el video: avanza solo cuando termine
                const video = document.getElementById('carouselVideo');
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
            }
            searchCurrentSlide = slideIndex;
            updateSearchCarousel();
        }

        // --- Search News Carousel Captions (ENGLISH) ---
        const searchCaptions = [
            `<b>Smart user request:</b> The user sends a natural language instruction to the Telegram bot, asking for the three most important AI news of the day and to have the summary sent by email.`,
            `<b>Automated multi-agent orchestration:</b> The executive agent interprets the request and coordinates specialized agents: one to search for news, another to generate the summary, and another to send the emailâ€”all automatically, without manual intervention.`,
            `<b>Summary generated and delivered to the user:</b> The bot replies in Telegram with a detailed summary of the news found, allowing the user to review the information before it is sent by email.`,
            `<b>Automatic email delivery:</b> The system completes the workflow by sending the news summary directly to the user's inbox, demonstrating effective integration between agents and communication channels.`
        ];

        // Iniciar el carrusel de bÃºsqueda
        updateSearchCarousel();

        // Pausar/continuar automÃ¡tico al pasar el ratÃ³n
        const searchCarouselContainer = document.querySelector('#searchCarousel').closest('.carousel-container');
        if (searchCarouselContainer) {
            searchCarouselContainer.addEventListener('mouseenter', () => {
                clearInterval(searchCarouselInterval);
                clearTimeout(searchVideoTimeout);
                if (searchCurrentSlide === 1) {
                    const video = document.getElementById('carouselVideo');
                    if (video) video.pause();
                }
            });
            searchCarouselContainer.addEventListener('mouseleave', () => {
                if (searchCurrentSlide === 1) {
                    const video = document.getElementById('carouselVideo');
                    if (video) video.play();
                }
                scheduleNextSearchSlide();
            });
        }
        
        // Funcionalidad del acordeÃ³n para escenarios
        function toggleScenario(header) {
            const accordion = header.parentElement;
            const isActive = accordion.classList.contains('active');
            
            // Cerrar todos los acordeones
            document.querySelectorAll('.scenario-accordion').forEach(item => {
                item.classList.remove('active');
            });
            
            // Abrir el acordeÃ³n clickeado si no estaba ya abierto
            if (!isActive) {
                accordion.classList.add('active');
            }
        }
    </script>
</body>
</html>
